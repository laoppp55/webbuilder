<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bizwink.persistence.ArticleMapper">
    <resultMap id="BaseResultMap" type="com.bizwink.po.Article">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="ID" jdbcType="DECIMAL" property="ID" />
        <result column="COLUMNID" jdbcType="DECIMAL" property="COLUMNID" />
        <result column="SITEID" jdbcType="DECIMAL" property="SITEID" />
        <result column="SORTID" jdbcType="DECIMAL" property="SORTID" />
        <result column="MAINTITLE" jdbcType="VARCHAR" property="MAINTITLE" />
        <result column="VICETITLE" jdbcType="VARCHAR" property="VICETITLE" />
        <result column="SUMMARY" jdbcType="VARCHAR" property="SUMMARY" />
        <result column="KEYWORD" jdbcType="VARCHAR" property="KEYWORD" />
        <result column="SOURCE" jdbcType="VARCHAR" property="SOURCE" />
        <result column="EMPTYCONTENTFLAG" jdbcType="DECIMAL" property="EMPTYCONTENTFLAG" />
        <result column="AUTHOR" jdbcType="VARCHAR" property="AUTHOR" />
        <result column="ARTICLEVERSION" jdbcType="DECIMAL" property="ARTICLEVERSION" />
        <result column="PUBLISHTIME" jdbcType="TIMESTAMP" property="PUBLISHTIME" />
        <result column="CREATEDATE" jdbcType="TIMESTAMP" property="CREATEDATE" />
        <result column="LASTUPDATED" jdbcType="TIMESTAMP" property="LASTUPDATED" />
        <result column="DIRNAME" jdbcType="VARCHAR" property="DIRNAME" />
        <result column="FILENAME" jdbcType="VARCHAR" property="FILENAME" />
        <result column="EDITOR" jdbcType="VARCHAR" property="EDITOR" />
        <result column="CREATOR" jdbcType="VARCHAR" property="CREATOR" />
        <result column="STATUS" jdbcType="DECIMAL" property="STATUS" />
        <result column="DOCLEVEL" jdbcType="DECIMAL" property="DOCLEVEL" />
        <result column="VICEDOCLEVEL" jdbcType="DECIMAL" property="VICEDOCLEVEL" />
        <result column="PUBFLAG" jdbcType="DECIMAL" property="PUBFLAG" />
        <result column="AUDITFLAG" jdbcType="DECIMAL" property="AUDITFLAG" />
        <result column="SUBSCRIBER" jdbcType="DECIMAL" property="SUBSCRIBER" />
        <result column="LOCKSTATUS" jdbcType="DECIMAL" property="LOCKSTATUS" />
        <result column="LOCKEDITOR" jdbcType="VARCHAR" property="LOCKEDITOR" />
        <result column="AUDITOR" jdbcType="VARCHAR" property="AUDITOR" />
        <result column="ISPUBLISHED" jdbcType="DECIMAL" property="ISPUBLISHED" />
        <result column="RELATEDARTID" jdbcType="VARCHAR" property="RELATEDARTID" />
        <result column="INDEXFLAG" jdbcType="DECIMAL" property="INDEXFLAG" />
        <result column="ISJOINRSS" jdbcType="DECIMAL" property="ISJOINRSS" />
        <result column="CLICKNUM" jdbcType="DECIMAL" property="CLICKNUM" />
        <result column="REFERID" jdbcType="DECIMAL" property="REFERID" />
        <result column="MULTIMEDIATYPE" jdbcType="DECIMAL" property="MULTIMEDIATYPE" />
        <result column="MODELID" jdbcType="DECIMAL" property="MODELID" />
        <result column="ARTICLEPIC" jdbcType="VARCHAR" property="ARTICLEPIC" />
        <result column="CHANGEPIC" jdbcType="DECIMAL" property="CHANGEPIC" />
        <result column="SALEPRICE" jdbcType="DECIMAL" property="SALEPRICE" />
        <result column="INPRICE" jdbcType="DECIMAL" property="INPRICE" />
        <result column="MARKETPRICE" jdbcType="DECIMAL" property="MARKETPRICE" />
        <result column="VIPPRICE" jdbcType="DECIMAL" property="VIPPRICE" />
        <result column="STOCKNUM" jdbcType="DECIMAL" property="STOCKNUM" />
        <result column="WEIGHT" jdbcType="DECIMAL" property="WEIGHT" />
        <result column="BRAND" jdbcType="VARCHAR" property="BRAND" />
        <result column="PIC" jdbcType="VARCHAR" property="PIC" />
        <result column="BIGPIC" jdbcType="VARCHAR" property="BIGPIC" />
        <result column="SCORE" jdbcType="DECIMAL" property="SCORE" />
        <result column="VOUCHER" jdbcType="DECIMAL" property="VOUCHER" />
        <result column="URLTYPE" jdbcType="DECIMAL" property="URLTYPE" />
        <result column="DEFINEURL" jdbcType="VARCHAR" property="DEFINEURL" />
        <result column="NOTEARTICLEID" jdbcType="DECIMAL" property="NOTEARTICLEID" />
        <result column="WORDSNUM" jdbcType="DECIMAL" property="WORDSNUM" />
        <result column="DOWNFILENAME" jdbcType="VARCHAR" property="DOWNFILENAME" />
        <result column="BEIDATE" jdbcType="TIMESTAMP" property="BEIDATE" />
        <result column="SALESNUM" jdbcType="DECIMAL" property="SALESNUM" />
        <result column="FROMSITEID" jdbcType="DECIMAL" property="FROMSITEID" />
        <result column="SARTICLEID" jdbcType="VARCHAR" property="SARTICLEID" />
        <result column="isown" jdbcType="DECIMAL" property="isown" />
        <result column="T1" jdbcType="DECIMAL" property="t1" />
        <result column="T2" jdbcType="DECIMAL" property="t2" />
        <result column="T3" jdbcType="DECIMAL" property="t3" />
        <result column="T4" jdbcType="DECIMAL" property="t4" />
        <result column="T5" jdbcType="DECIMAL" property="t5" />
        <result column="MEDIAFILE" jdbcType="VARCHAR" property="MEDIAFILE" />
        <result column="DEPTID" jdbcType="VARCHAR" property="DEPTID" />
        <result column="PROCESSOFAUDIT" jdbcType="DECIMAL" property="PROCESSOFAUDIT" />
    </resultMap>
    <resultMap extends="BaseResultMap" id="ResultMapWithBLOBs" type="com.bizwink.po.Article">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <result column="CONTENT" jdbcType="LONGVARCHAR" property="CONTENT" />
    </resultMap>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        ID, COLUMNID, SITEID, SORTID, MAINTITLE, VICETITLE, SUMMARY, KEYWORD, SOURCE, EMPTYCONTENTFLAG,
        AUTHOR, ARTICLEVERSION, PUBLISHTIME, CREATEDATE, LASTUPDATED, DIRNAME, FILENAME,
        EDITOR, CREATOR, STATUS, DOCLEVEL, VICEDOCLEVEL, PUBFLAG, AUDITFLAG, SUBSCRIBER, LOCKSTATUS,
        LOCKEDITOR, AUDITOR, ISPUBLISHED, RELATEDARTID, INDEXFLAG, ISJOINRSS, CLICKNUM, REFERID,
        MULTIMEDIATYPE, MODELID, ARTICLEPIC, CHANGEPIC, SALEPRICE, INPRICE, MARKETPRICE,
        VIPPRICE, STOCKNUM, WEIGHT, BRAND, PIC, BIGPIC, SCORE, VOUCHER, URLTYPE, DEFINEURL,
        NOTEARTICLEID, WORDSNUM, DOWNFILENAME, BEIDATE, SALESNUM, FROMSITEID,SARTICLEID,
        T1, T2, T3, T4, T5,MEDIAFILE,DEPTID, PROCESSOFAUDIT
    </sql>
    <sql id="Main_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        ID, COLUMNID, SITEID, MAINTITLE,VICETITLE,SOURCE,EMPTYCONTENTFLAG,PUBLISHTIME, CREATEDATE, LASTUPDATED, DIRNAME, FILENAME,EDITOR, STATUS, DOCLEVEL, VICEDOCLEVEL, PUBFLAG, AUDITFLAG, LOCKSTATUS,ISJOINRSS, REFERID,MULTIMEDIATYPE, MODELID, URLTYPE, DEFINEURL
    </sql>
    <sql id="Blob_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        CONTENT
    </sql>

    <select id="selectByPrimaryKey" parameterType="java.math.BigDecimal" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List" />
        from TBL_ARTICLE
        where ID = #{ID,jdbcType=DECIMAL}
    </select>

    <select id="getArticleByUseridAndArticleid" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List" />
        from TBL_ARTICLE
        where ID = #{ID,jdbcType=DECIMAL} and CREATOR = #{CREATOR,jdbcType=VARCHAR}
    </select>

    <select id="getArticleByUseridAndStatus" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List" />
        from TBL_ARTICLE
        where STATUS = #{STATUS,jdbcType=DECIMAL} and CREATOR = #{CREATOR,jdbcType=VARCHAR}
    </select>

    <select id="getArticlesBySiteidAndColumnid" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List" />
        from TBL_ARTICLE
        where SITEID = #{SITEID,jdbcType=DECIMAL} and COLUMNID = #{COLUMNID,jdbcType=DECIMAL}
    </select>

    <select id="getArticlesByColumnid"  resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List" />
        from TBL_ARTICLE
        where columnid = 50858
    </select>

    <select id="getArticlesByColumnids"  parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (select
        <include refid="Base_Column_List" />
        from TBL_ARTICLE
        where maintitle like concat(concat('%',#{keyword}),'%') and columnid in
        <foreach item="item" index="index" collection="list" open="(" separator="," close=")">
            #{item}
        </foreach>
        ) tt WHERE ROWNUM &lt;= #{endrow,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt;= #{beginrow,jdbcType=DECIMAL}
    </select>

    <select id="getArticlesCountByColumnids"  parameterType="java.util.Map" resultType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select sum(tmpcount) from (SELECT count(*) as tmpcount from TBL_ARTICLE where
        COLUMNID=#{columnid,jdbcType=DECIMAL}
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or
            siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="editor!=null">
            and EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        <if test="arttype==100">
            and (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=1
        </if>
        <if test="arttype==101">
            and (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=0
        </if>
        <if test="arttype==102">
            and (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=2
        </if>
        <if test="arttype==103">
            and STATUS = 0
        </if>
        <if test="arttype==104">
            and STATUS = 2
        </if>
        <if test="arttype==105">
            and STATUS = 3
        </if>
        <if test="arttype==106">
            and (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 1
        </if>
        <if test="arttype==107">
            and (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 2
        </if>union all
        select
        count(*) as tmpcount from tbl_article t,TBL_REFERS_ARTICLE tr where t.id=tr.articleid
        and tr.siteid=#{siteid,jdbcType=DECIMAL} and tr.COLUMNID = #{columnid,jdbcType=DECIMAL}
        <if test="editor!=null">
            and  t.EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        <if test="arttype==100">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=1
        </if>
        <if test="arttype==101">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=0
        </if>
        <if test="arttype==102">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=2
        </if>
        <if test="arttype==103">
            and  t.STATUS = 0
        </if>
        <if test="arttype==104">
            and  t.STATUS = 2
        </if>
        <if test="arttype==105">
            and  t.STATUS = 3
        </if>
        <if test="arttype==106">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 1
        </if>
        <if test="arttype==107">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 2
        </if>)
        <!--foreach item="item" index="index" collection="list" open="(" separator=" or " close=")">
            columnid=#{item}
        </foreach-->
    </select>

    <select id="getArticlesInPageByColumnids" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (
        select <include refid="Main_Column_List" />,1 as isown from TBL_ARTICLE where COLUMNID = #{columnid,jdbcType=DECIMAL}
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="editor!=null">
            and  EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        <if test="arttype==100">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=1
        </if>
        <if test="arttype==101">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=0
        </if>
        <if test="arttype==102">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=2
        </if>
        <if test="arttype==103">
            and  STATUS = 0
        </if>
        <if test="arttype==104">
            and  STATUS = 2
        </if>
        <if test="arttype==105">
            and  STATUS = 3
        </if>
        <if test="arttype==106">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 1
        </if>
        <if test="arttype==107">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 2
        </if>
        union all
        select   t.ID,tr.COLUMNID,t.SITEID,t.MAINTITLE,t.VICETITLE,t.SOURCE,t.EMPTYCONTENTFLAG,t.PUBLISHTIME,t.CREATEDATE,t.LASTUPDATED,t.DIRNAME,t.FILENAME,t.EDITOR,t.STATUS,t.DOCLEVEL,
        t.VICEDOCLEVEL,t.PUBFLAG,t.AUDITFLAG,t.LOCKSTATUS,t.ISJOINRSS,t.REFERID,t.MULTIMEDIATYPE,t.MODELID,t.URLTYPE,t.DEFINEURL,0 as isown from
        tbl_article t,TBL_REFERS_ARTICLE tr where t.id=tr.articleid and tr.siteid=#{siteid,jdbcType=DECIMAL} and tr.COLUMNID = #{columnid,jdbcType=DECIMAL}
        <if test="editor!=null">
            and  t.EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        <if test="arttype==100">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=1
        </if>
        <if test="arttype==101">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=0
        </if>
        <if test="arttype==102">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=2
        </if>
        <if test="arttype==103">
            and  t.STATUS = 0
        </if>
        <if test="arttype==104">
            and  t.STATUS = 2
        </if>
        <if test="arttype==105">
            and  t.STATUS = 3
        </if>
        <if test="arttype==106">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 1
        </if>
        <if test="arttype==107">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 2
        </if>
        <!--排序-->
        <choose>
            <when test="flag == 0">
                <if test="ascdesc==0">
                    order by id desc
                </if>
                <if test="ascdesc==1">
                    order by id asc
                </if>
            </when>
            <when test="flag == 1">
                <if test="ascdesc==0">
                    order by maintitle desc
                </if>
                <if test="ascdesc==1">
                    order by maintitle asc
                </if>
            </when>
            <when test="flag == 2">
                <if test="ascdesc==0">
                    order by doclevel desc
                </if>
                <if test="ascdesc==1">
                    order by doclevel asc
                </if>
            </when>
            <when test="flag == 3">
                <if test="ascdesc==0">
                    order by vicedoclevel desc
                </if>
                <if test="ascdesc==1">
                    order by vicedoclevel asc
                </if>
            </when>
            <when test="flag == 4">
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </when>
            <when test="flag == 5">
                <if test="ascdesc==0">
                    order by lastupdated desc
                </if>
                <if test="ascdesc==1">
                    order by lastupdated asc
                </if>
            </when>
            <otherwise>
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </otherwise>
        </choose>
        ) tt WHERE ROWNUM &lt;= #{endrow,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt;= #{beginrow,jdbcType=DECIMAL}
    </select>

    <select id="getSearchArticlesCount" parameterType="java.util.Map" resultType="java.lang.Integer">
        select sum(tmpcount) from (SELECT count(*) as tmpcount
        from TBL_ARTICLE where COLUMNID = #{columnid,jdbcType=DECIMAL}
        <!--foreach collection="columnids" index="index" item="item" open="(" separator=" OR " close=")">
            COLUMNID=#{item}
        </foreach-->
        <choose>
            <when test="articleid != 0">
                and ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="editor != null and editor !=''">
                and editor like concat(concat('%',#{editor}),'%')
            </when>
            <when test="source != null and source !=''">
                and source like concat(concat('%',#{source}),'%')
            </when>
        </choose>
        <if test="spubdate != null and spubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
        </if>
        <if test="epubdate != null and epubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
        </if>
        <if test="arttype==100">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=1
        </if>
        <if test="arttype==101">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=0
        </if>
        <if test="arttype==102">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=2
        </if>
        <if test="arttype==103">
            and  STATUS = 0
        </if>
        <if test="arttype==104">
            and  STATUS = 2
        </if>
        <if test="arttype==105">
            and  STATUS = 3
        </if>
        <if test="arttype==106">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 1
        </if>
        <if test="arttype==107">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 2
        </if>
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="editor!=null">
            and  EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        union all select count(*) as tmpcount from tbl_article t,TBL_REFERS_ARTICLE tr
        where t.id=tr.articleid and tr.columnid=#{columnid,jdbcType=DECIMAL} and tr.siteid=#{siteid,jdbcType=DECIMAL}
        <choose>
            <when test="articleid != 0">
                and t.ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and t.maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and t.vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="editor != null and editor !=''">
                and t.editor like concat(concat('%',#{editor}),'%')
            </when>
            <when test="source != null and source !=''">
                and t.source like concat(concat('%',#{source}),'%')
            </when>
        </choose>
        <if test="arttype==100">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=1
        </if>
        <if test="arttype==101">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=0
        </if>
        <if test="arttype==102">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=2
        </if>
        <if test="arttype==103">
            and  t.STATUS = 0
        </if>
        <if test="arttype==104">
            and  t.STATUS = 2
        </if>
        <if test="arttype==105">
            and  t.STATUS = 3
        </if>
        <if test="arttype==106">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 1
        </if>
        <if test="arttype==107">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 2
        </if>
        <if test="spubdate != null and spubdate !=''">
            and to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
        </if>
        <if test="epubdate != null and epubdate !=''">
            and to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
        </if>
        <if test="editor!=null">
            and t.EDITOR = #{editor,jdbcType=VARCHAR}
        </if>)
    </select>

    <select id="getSearchArticlesInPage" parameterType="java.util.Map" resultMap="BaseResultMap">
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (select
        <include refid="Main_Column_List" />,1 as isown
        from TBL_ARTICLE where COLUMNID = #{columnid,jdbcType=DECIMAL}
        <choose>
            <when test="articleid != 0">
                and ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="editor != null and editor !=''">
                and editor like concat(concat('%',#{editor}),'%')
            </when>
            <when test="source != null and source !=''">
                and source like concat(concat('%',#{source}),'%')
            </when>
        </choose>
        <if test="spubdate != null and spubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
        </if>
        <if test="epubdate != null and epubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
        </if>
        <if test="arttype==100">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=1
        </if>
        <if test="arttype==101">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=0
        </if>
        <if test="arttype==102">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=2
        </if>
        <if test="arttype==103">
            and  STATUS = 0
        </if>
        <if test="arttype==104">
            and  STATUS = 2
        </if>
        <if test="arttype==105">
            and  STATUS = 3
        </if>
        <if test="arttype==106">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 1
        </if>
        <if test="arttype==107">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 2
        </if>
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        union all
        select t.ID,tr.COLUMNID,t.SITEID,t.MAINTITLE,t.VICETITLE,t.SOURCE,t.EMPTYCONTENTFLAG,t.PUBLISHTIME,t.CREATEDATE,t.LASTUPDATED,t.DIRNAME,t.FILENAME,t.EDITOR,t.STATUS,t.DOCLEVEL,
        t.VICEDOCLEVEL,t.PUBFLAG,t.AUDITFLAG,t.LOCKSTATUS,t.ISJOINRSS,t.REFERID,t.MULTIMEDIATYPE,t.MODELID,t.URLTYPE,t.DEFINEURL,0 as isown
        from tbl_article t,TBL_REFERS_ARTICLE tr
        where t.id=tr.articleid and tr.columnid=#{columnid,jdbcType=DECIMAL} and tr.siteid=#{siteid,jdbcType=DECIMAL}
        <choose>
            <when test="articleid != 0">
                and t.ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and t.maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and t.vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="editor != null and editor !=''">
                and t.editor like concat(concat('%',#{editor}),'%')
            </when>
            <when test="source != null and source !=''">
                and t.source like concat(concat('%',#{source}),'%')
            </when>
        </choose>
        <if test="spubdate != null and spubdate !=''">
            and to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
        </if>
        <if test="epubdate != null and epubdate !=''">
            and to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
        </if>
        <if test="arttype==100">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=1
        </if>
        <if test="arttype==101">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=0
        </if>
        <if test="arttype==102">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=2
        </if>
        <if test="arttype==103">
            and  t.STATUS = 0
        </if>
        <if test="arttype==104">
            and  t.STATUS = 2
        </if>
        <if test="arttype==105">
            and  t.STATUS = 3
        </if>
        <if test="arttype==106">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 1
        </if>
        <if test="arttype==107">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 2
        </if>
        <if test="editor!=null">
            and  t.EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        <!--排序-->
        <choose>
            <when test="flag == 0">
                <if test="ascdesc==0">
                    order by id desc
                </if>
                <if test="ascdesc==1">
                    order by id asc
                </if>
            </when>
            <when test="flag == 1">
                <if test="ascdesc==0">
                    order by maintitle desc
                </if>
                <if test="ascdesc==1">
                    order by maintitle asc
                </if>
            </when>
            <when test="flag == 2">
                <if test="ascdesc==0">
                    order by doclevel desc
                </if>
                <if test="ascdesc==1">
                    order by doclevel asc
                </if>
            </when>
            <when test="flag == 3">
                <if test="ascdesc==0">
                    order by vicedoclevel desc
                </if>
                <if test="ascdesc==1">
                    order by vicedoclevel asc
                </if>
            </when>
            <when test="flag == 4">
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </when>
            <when test="flag == 5">
                <if test="ascdesc==0">
                    order by lastupdated desc
                </if>
                <if test="ascdesc==1">
                    order by lastupdated asc
                </if>
            </when>
            <otherwise>
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </otherwise>
        </choose>
        ) tt WHERE ROWNUM &lt;= #{endrow,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt;= #{beginrow,jdbcType=DECIMAL}
    </select>

    <select id="getArticlesCountByDeptAndColumnids"  parameterType="java.util.Map" resultType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select sum(tmpcount) from (SELECT count(*) as tmpcount from TBL_ARTICLE where
        COLUMNID=#{columnid,jdbcType=DECIMAL}
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or
            siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="deptname!=null">
            and SOURCE = #{deptname,jdbcType=VARCHAR}
        </if>
        <if test="arttype==100">
            and (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=1
        </if>
        <if test="arttype==101">
            and (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=0
        </if>
        <if test="arttype==102">
            and (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=2
        </if>
        <if test="arttype==103">
            and STATUS = 0
        </if>
        <if test="arttype==104">
            and STATUS = 2
        </if>
        <if test="arttype==105">
            and STATUS = 3
        </if>
        <if test="arttype==106">
            and (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 1
        </if>
        <if test="arttype==107">
            and (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 2
        </if>union all
        select
        count(*) as tmpcount from tbl_article t,TBL_REFERS_ARTICLE tr where t.id=tr.articleid
        and tr.siteid=#{siteid,jdbcType=DECIMAL} and tr.COLUMNID = #{columnid,jdbcType=DECIMAL}
        <if test="deptname!=null">
            and  t.SOURCE = #{deptname,jdbcType=VARCHAR}
        </if>
        <if test="arttype==100">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=1
        </if>
        <if test="arttype==101">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=0
        </if>
        <if test="arttype==102">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=2
        </if>
        <if test="arttype==103">
            and  t.STATUS = 0
        </if>
        <if test="arttype==104">
            and  t.STATUS = 2
        </if>
        <if test="arttype==105">
            and  t.STATUS = 3
        </if>
        <if test="arttype==106">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 1
        </if>
        <if test="arttype==107">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 2
        </if>)
        <!--foreach item="item" index="index" collection="list" open="(" separator=" or " close=")">
            columnid=#{item}
        </foreach-->
    </select>

    <select id="getArticlesInPageByDeptAndColumnids" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (
        select <include refid="Main_Column_List" />,1 as isown from TBL_ARTICLE where COLUMNID = #{columnid,jdbcType=DECIMAL}
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="deptname!=null">
            and SOURCE = #{deptname,jdbcType=VARCHAR}
        </if>
        <if test="arttype==100">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=1
        </if>
        <if test="arttype==101">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=0
        </if>
        <if test="arttype==102">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=2
        </if>
        <if test="arttype==103">
            and  STATUS = 0
        </if>
        <if test="arttype==104">
            and  STATUS = 2
        </if>
        <if test="arttype==105">
            and  STATUS = 3
        </if>
        <if test="arttype==106">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 1
        </if>
        <if test="arttype==107">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 2
        </if>
        union all
        select   t.ID,tr.COLUMNID,t.SITEID,t.MAINTITLE,t.VICETITLE,t.SOURCE,t.EMPTYCONTENTFLAG,t.PUBLISHTIME,t.CREATEDATE,t.LASTUPDATED,t.DIRNAME,t.FILENAME,t.EDITOR,t.STATUS,t.DOCLEVEL,
        t.VICEDOCLEVEL,t.PUBFLAG,t.AUDITFLAG,t.LOCKSTATUS,t.ISJOINRSS,t.REFERID,t.MULTIMEDIATYPE,t.MODELID,t.URLTYPE,t.DEFINEURL,0 as isown from
        tbl_article t,TBL_REFERS_ARTICLE tr where t.id=tr.articleid and tr.siteid=#{siteid,jdbcType=DECIMAL} and tr.COLUMNID = #{columnid,jdbcType=DECIMAL}
        <if test="deptname!=null">
            and  t.SOURCE = #{deptname,jdbcType=VARCHAR}
        </if>
        <if test="arttype==100">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=1
        </if>
        <if test="arttype==101">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=0
        </if>
        <if test="arttype==102">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=2
        </if>
        <if test="arttype==103">
            and  t.STATUS = 0
        </if>
        <if test="arttype==104">
            and  t.STATUS = 2
        </if>
        <if test="arttype==105">
            and  t.STATUS = 3
        </if>
        <if test="arttype==106">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 1
        </if>
        <if test="arttype==107">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 2
        </if>
        <!--排序-->
        <choose>
            <when test="flag == 0">
                <if test="ascdesc==0">
                    order by id desc
                </if>
                <if test="ascdesc==1">
                    order by id asc
                </if>
            </when>
            <when test="flag == 1">
                <if test="ascdesc==0">
                    order by maintitle desc
                </if>
                <if test="ascdesc==1">
                    order by maintitle asc
                </if>
            </when>
            <when test="flag == 2">
                <if test="ascdesc==0">
                    order by doclevel desc
                </if>
                <if test="ascdesc==1">
                    order by doclevel asc
                </if>
            </when>
            <when test="flag == 3">
                <if test="ascdesc==0">
                    order by vicedoclevel desc
                </if>
                <if test="ascdesc==1">
                    order by vicedoclevel asc
                </if>
            </when>
            <when test="flag == 4">
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </when>
            <when test="flag == 5">
                <if test="ascdesc==0">
                    order by lastupdated desc
                </if>
                <if test="ascdesc==1">
                    order by lastupdated asc
                </if>
            </when>
            <otherwise>
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </otherwise>
        </choose>
        ) tt WHERE ROWNUM &lt;= #{endrow,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt;= #{beginrow,jdbcType=DECIMAL}
    </select>

    <select id="getSearchArticlesCountByDept" parameterType="java.util.Map" resultType="java.lang.Integer">
        select sum(tmpcount) from (SELECT count(*) as tmpcount
        from TBL_ARTICLE where COLUMNID = #{columnid,jdbcType=DECIMAL}
        <!--foreach collection="columnids" index="index" item="item" open="(" separator=" OR " close=")">
            COLUMNID=#{item}
        </foreach-->
        <choose>
            <when test="articleid != 0">
                and ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="editor != null and editor !=''">
                and editor like concat(concat('%',#{editor}),'%')
            </when>
            <when test="source != null and source !=''">
                and source like concat(concat('%',#{source}),'%')
            </when>
        </choose>
        <if test="spubdate != null and spubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
        </if>
        <if test="epubdate != null and epubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
        </if>
        <if test="arttype==100">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=1
        </if>
        <if test="arttype==101">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=0
        </if>
        <if test="arttype==102">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=2
        </if>
        <if test="arttype==103">
            and  STATUS = 0
        </if>
        <if test="arttype==104">
            and  STATUS = 2
        </if>
        <if test="arttype==105">
            and  STATUS = 3
        </if>
        <if test="arttype==106">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 1
        </if>
        <if test="arttype==107">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 2
        </if>
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="deptname!=null">
            and  SOURCE = #{deptname,jdbcType=VARCHAR}
        </if>
        union all select count(*) as tmpcount from tbl_article t,TBL_REFERS_ARTICLE tr
        where t.id=tr.articleid and tr.columnid=#{columnid,jdbcType=DECIMAL} and tr.siteid=#{siteid,jdbcType=DECIMAL}
        <choose>
            <when test="articleid != 0">
                and t.ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and t.maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and t.vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="editor != null and editor !=''">
                and t.editor like concat(concat('%',#{editor}),'%')
            </when>
            <when test="source != null and source !=''">
                and t.source like concat(concat('%',#{source}),'%')
            </when>
        </choose>
        <if test="arttype==100">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=1
        </if>
        <if test="arttype==101">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=0
        </if>
        <if test="arttype==102">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=2
        </if>
        <if test="arttype==103">
            and  t.STATUS = 0
        </if>
        <if test="arttype==104">
            and  t.STATUS = 2
        </if>
        <if test="arttype==105">
            and  t.STATUS = 3
        </if>
        <if test="arttype==106">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 1
        </if>
        <if test="arttype==107">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 2
        </if>
        <if test="spubdate != null and spubdate !=''">
            and to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
        </if>
        <if test="epubdate != null and epubdate !=''">
            and to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
        </if>
        <if test="deptname!=null">
            and t.SOURCE = #{deptname,jdbcType=VARCHAR}
        </if>)
    </select>

    <select id="getSearchArticlesInPageByDept" parameterType="java.util.Map" resultMap="BaseResultMap">
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (select
        <include refid="Main_Column_List" />,1 as isown
        from TBL_ARTICLE where COLUMNID = #{columnid,jdbcType=DECIMAL}
        <choose>
            <when test="articleid != 0">
                and ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="editor != null and editor !=''">
                and editor like concat(concat('%',#{editor}),'%')
            </when>
            <when test="source != null and source !=''">
                and source like concat(concat('%',#{source}),'%')
            </when>
        </choose>
        <if test="spubdate != null and spubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
        </if>
        <if test="epubdate != null and epubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
        </if>
        <if test="arttype==100">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=1
        </if>
        <if test="arttype==101">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=0
        </if>
        <if test="arttype==102">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 0 and pubflag=2
        </if>
        <if test="arttype==103">
            and  STATUS = 0
        </if>
        <if test="arttype==104">
            and  STATUS = 2
        </if>
        <if test="arttype==105">
            and  STATUS = 3
        </if>
        <if test="arttype==106">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 1
        </if>
        <if test="arttype==107">
            and  (STATUS = 1 OR STATUS = 4 OR STATUS = 5 OR STATUS = 6) AND auditflag = 2
        </if>
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        union all
        select t.ID,tr.COLUMNID,t.SITEID,t.MAINTITLE,t.VICETITLE,t.SOURCE,t.EMPTYCONTENTFLAG,t.PUBLISHTIME,t.CREATEDATE,t.LASTUPDATED,t.DIRNAME,t.FILENAME,t.EDITOR,t.STATUS,t.DOCLEVEL,
        t.VICEDOCLEVEL,t.PUBFLAG,t.AUDITFLAG,t.LOCKSTATUS,t.ISJOINRSS,t.REFERID,t.MULTIMEDIATYPE,t.MODELID,t.URLTYPE,t.DEFINEURL,0 as isown
        from tbl_article t,TBL_REFERS_ARTICLE tr
        where t.id=tr.articleid and tr.columnid=#{columnid,jdbcType=DECIMAL} and tr.siteid=#{siteid,jdbcType=DECIMAL}
        <choose>
            <when test="articleid != 0">
                and t.ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and t.maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and t.vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="editor != null and editor !=''">
                and t.editor like concat(concat('%',#{editor}),'%')
            </when>
            <when test="source != null and source !=''">
                and t.source like concat(concat('%',#{source}),'%')
            </when>
        </choose>
        <if test="spubdate != null and spubdate !=''">
            and to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
        </if>
        <if test="epubdate != null and epubdate !=''">
            and to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
        </if>
        <if test="arttype==100">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=1
        </if>
        <if test="arttype==101">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=0
        </if>
        <if test="arttype==102">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 0 and t.pubflag=2
        </if>
        <if test="arttype==103">
            and  t.STATUS = 0
        </if>
        <if test="arttype==104">
            and  t.STATUS = 2
        </if>
        <if test="arttype==105">
            and  t.STATUS = 3
        </if>
        <if test="arttype==106">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 1
        </if>
        <if test="arttype==107">
            and  (t.STATUS = 1 OR t.STATUS = 4 OR t.STATUS = 5 OR t.STATUS = 6) AND t.auditflag = 2
        </if>
        <if test="deptname!=null">
            and  t.SOURCE = #{deptname,jdbcType=VARCHAR}
        </if>
        <!--排序-->
        <choose>
            <when test="flag == 0">
                <if test="ascdesc==0">
                    order by id desc
                </if>
                <if test="ascdesc==1">
                    order by id asc
                </if>
            </when>
            <when test="flag == 1">
                <if test="ascdesc==0">
                    order by maintitle desc
                </if>
                <if test="ascdesc==1">
                    order by maintitle asc
                </if>
            </when>
            <when test="flag == 2">
                <if test="ascdesc==0">
                    order by doclevel desc
                </if>
                <if test="ascdesc==1">
                    order by doclevel asc
                </if>
            </when>
            <when test="flag == 3">
                <if test="ascdesc==0">
                    order by vicedoclevel desc
                </if>
                <if test="ascdesc==1">
                    order by vicedoclevel asc
                </if>
            </when>
            <when test="flag == 4">
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </when>
            <when test="flag == 5">
                <if test="ascdesc==0">
                    order by lastupdated desc
                </if>
                <if test="ascdesc==1">
                    order by lastupdated asc
                </if>
            </when>
            <otherwise>
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </otherwise>
        </choose>
        ) tt WHERE ROWNUM &lt;= #{endrow,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt;= #{beginrow,jdbcType=DECIMAL}
    </select>

    <select id="getArticlesCountByColumnidsForMove"  parameterType="java.util.Map" resultType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select count(id) from TBL_ARTICLE
        <choose>
            <when test="keyword != null and keyword !=''">
                where maintitle like concat(concat('%',#{keyword}),'%') and
            </when>
            <otherwise>
                where
            </otherwise>
        </choose>
        COLUMNID=#{columnid,jdbcType=DECIMAL}
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="editor!=null">
            and EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        <if test="status!=-1">
            and  STATUS = #{status,jdbcType=DECIMAL}
        </if>
        <if test="auditflag!=0">
            and  AUDITFLAG = #{auditflag,jdbcType=DECIMAL}
        </if>
        <!--foreach item="item" index="index" collection="list" open="(" separator=" or " close=")">
            columnid=#{item}
        </foreach-->
    </select>

    <select id="getArticlesInPageByColumnidsForMove" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (select
        <include refid="Main_Column_List" />
        from TBL_ARTICLE
        where COLUMNID = #{columnid,jdbcType=DECIMAL}
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="editor!=null">
            and  EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        <if test="status!=-1">
            and  STATUS = #{status,jdbcType=DECIMAL}
        </if>
        <if test="auditflag!=0">
            and  AUDITFLAG = #{auditflag,jdbcType=DECIMAL}
        </if>
        <!--排序-->
        <choose>
            <when test="flag == 0">
                <if test="ascdesc==0">
                    order by id desc
                </if>
                <if test="ascdesc==1">
                    order by id asc
                </if>
            </when>
            <when test="flag == 1">
                <if test="ascdesc==0">
                    order by maintitle desc
                </if>
                <if test="ascdesc==1">
                    order by maintitle asc
                </if>
            </when>
            <when test="flag == 2">
                <if test="ascdesc==0">
                    order by doclevel desc
                </if>
                <if test="ascdesc==1">
                    order by doclevel asc
                </if>
            </when>
            <when test="flag == 3">
                <if test="ascdesc==0">
                    order by vicedoclevel desc
                </if>
                <if test="ascdesc==1">
                    order by vicedoclevel asc
                </if>
            </when>
            <when test="flag == 4">
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </when>
            <when test="flag == 5">
                <if test="ascdesc==0">
                    order by lastupdated desc
                </if>
                <if test="ascdesc==1">
                    order by lastupdated asc
                </if>
            </when>
            <otherwise>
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </otherwise>
        </choose>
        ) tt WHERE ROWNUM &lt;= #{endrow,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt;= #{beginrow,jdbcType=DECIMAL}
    </select>

    <select id="getSearchArticlesCountForMove" parameterType="java.util.Map" resultType="java.lang.Integer">
        select count(id) from TBL_ARTICLE where 1=1
        <choose>
            <when test="articleid != 0">
                and ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="editor != null and editor !=''">
                and editor like concat(concat('%',#{editor}),'%')
            </when>
            <when test="source != null and source !=''">
                and source like concat(concat('%',#{source}),'%')
            </when>
            <when test="spubdate != null and spubdate !=''">
                and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
            </when>
            <when test="epubdate != null and epubdate !=''">
                and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
            </when>
            <when test="status != -1">
                <if test="status==1">
                    and status=1 and auditflag=0 and pubflag=1
                </if>
                <if test="status==2">
                    and status=1 and auditflag=0 and pubflag=0
                </if>
                <if test="status==3">
                    and status=0 and auditflag=0
                </if>
                <if test="status==4">
                    and status=1 and auditflag=1"
                </if>
                <if test="status==5">
                    and auditflag=2
                </if>
            </when>
        </choose>
        and COLUMNID=#{columnid,jdbcType=DECIMAL}
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="editor!=null">
            and EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
    </select>

    <select id="getSearchArticlesInPageForMove" parameterType="java.util.Map" resultMap="BaseResultMap">
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (select
        <include refid="Base_Column_List" />
        from TBL_ARTICLE where 1=1
        <choose>
            <when test="articleid != 0">
                and ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="editor != null and editor !=''">
                and editor like concat(concat('%',#{editor}),'%')
            </when>
            <when test="source != null and source !=''">
                and source like concat(concat('%',#{source}),'%')
            </when>
            <when test="spubdate != null and spubdate !=''">
                and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
            </when>
            <when test="epubdate != null and epubdate !=''">
                and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
            </when>
            <when test="status != -1">
                <if test="status==1">
                    and status=1 and auditflag=0 and pubflag=1
                </if>
                <if test="status==2">
                    and status=1 and auditflag=0 and pubflag=0
                </if>
                <if test="status==3">
                    and status=0 and auditflag=0
                </if>
                <if test="status==4">
                    and status=1 and auditflag=1"
                </if>
                <if test="status==5">
                    and auditflag=2
                </if>
            </when>
        </choose>
        and COLUMNID = #{columnid,jdbcType=DECIMAL}
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="editor!=null">
            and  EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        <!--排序-->
        <choose>
            <when test="flag == 0">
                <if test="ascdesc==0">
                    order by id desc
                </if>
                <if test="ascdesc==1">
                    order by id asc
                </if>
            </when>
            <when test="flag == 1">
                <if test="ascdesc==0">
                    order by maintitle desc
                </if>
                <if test="ascdesc==1">
                    order by maintitle asc
                </if>
            </when>
            <when test="flag == 2">
                <if test="ascdesc==0">
                    order by doclevel desc
                </if>
                <if test="ascdesc==1">
                    order by doclevel asc
                </if>
            </when>
            <when test="flag == 3">
                <if test="ascdesc==0">
                    order by vicedoclevel desc
                </if>
                <if test="ascdesc==1">
                    order by vicedoclevel asc
                </if>
            </when>
            <when test="flag == 4">
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </when>
            <when test="flag == 5">
                <if test="ascdesc==0">
                    order by lastupdated desc
                </if>
                <if test="ascdesc==1">
                    order by lastupdated asc
                </if>
            </when>
            <otherwise>
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </otherwise>
        </choose>
        ) tt WHERE ROWNUM &lt;= #{endrow,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt;= #{beginrow,jdbcType=DECIMAL}
    </select>

    <select id="getArticlesInPageByColumnidsForPublish" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (select
        <include refid="Main_Column_List" />,1 as isown
        from TBL_ARTICLE
        where
        <foreach collection="columnids" index="index" item="item" open="(" separator=" OR " close=")">
            COLUMNID=#{item}
        </foreach>
        <!--COLUMNID = #{columnid,jdbcType=DECIMAL}-->
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="editor!=null">
            and  EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        and  (STATUS = 1 OR STATUS=5 OR STATUS=4 OR STATUS=6) and  AUDITFLAG = 0 AND EMPTYCONTENTFLAG=0 AND pubflag = 1
        union all
        select t.ID,tr.COLUMNID,t.SITEID,t.MAINTITLE,t.VICETITLE,t.SOURCE,t.EMPTYCONTENTFLAG,t.PUBLISHTIME,t.CREATEDATE,t.LASTUPDATED,t.DIRNAME,t.FILENAME,t.EDITOR,t.STATUS,t.DOCLEVEL,
        t.VICEDOCLEVEL,t.PUBFLAG,t.AUDITFLAG,t.LOCKSTATUS,t.ISJOINRSS,t.REFERID,t.MULTIMEDIATYPE,t.MODELID,t.URLTYPE,t.DEFINEURL,0 as isown
        from tbl_article t,TBL_REFERS_ARTICLE tr
        where
        <foreach collection="columnids" index="index" item="item" open="(" separator=" OR " close=")">
            tr.COLUMNID=#{item}
        </foreach>
        and t.id=tr.articleid and tr.usearticletype=1 and tr.pubflag = 1 and tr.siteid=#{siteid,jdbcType=DECIMAL}
        <!--排序-->
        <choose>
            <when test="flag == 0">
                <if test="ascdesc==0">
                    order by id desc
                </if>
                <if test="ascdesc==1">
                    order by id asc
                </if>
            </when>
            <when test="flag == 1">
                <if test="ascdesc==0">
                    order by maintitle desc
                </if>
                <if test="ascdesc==1">
                    order by maintitle asc
                </if>
            </when>
            <when test="flag == 2">
                <if test="ascdesc==0">
                    order by doclevel desc
                </if>
                <if test="ascdesc==1">
                    order by doclevel asc
                </if>
            </when>
            <when test="flag == 3">
                <if test="ascdesc==0">
                    order by vicedoclevel desc
                </if>
                <if test="ascdesc==1">
                    order by vicedoclevel asc
                </if>
            </when>
            <when test="flag == 4">
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </when>
            <when test="flag == 5">
                <if test="ascdesc==0">
                    order by lastupdated desc
                </if>
                <if test="ascdesc==1">
                    order by lastupdated asc
                </if>
            </when>
            <otherwise>
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </otherwise>
        </choose>
        ) tt WHERE ROWNUM &lt;= #{endrow,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt; #{beginrow,jdbcType=DECIMAL}
    </select>

    <select id="getArticlesCountByColumnidsForPublish"  parameterType="java.util.Map" resultType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select sum(tmpcount)  from (SELECT count(*) as tmpcount FROM TBL_Article a
        WHERE siteid=#{siteid,jdbcType=DECIMAL} AND
        <foreach collection="columnids" index="index" item="item" open="(" separator=" OR " close=")">
            COLUMNID=#{item}
        </foreach>
        AND (status = 1 OR status=5 OR status=4 OR status=6) AND auditflag = 0 and emptycontentflag = 0 and pubflag = 1
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="editor!=null">
            and EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        union all
        select count(*) as tmpcount from tbl_article t,TBL_REFERS_ARTICLE tr
        where tr.siteid=#{siteid,jdbcType=DECIMAL} and
        <foreach collection="columnids" index="index" item="item" open="(" separator=" OR " close=")">
            tr.COLUMNID=#{item}
        </foreach>
        and t.id=tr.articleid and tr.usearticletype=1 and tr.pubflag = 1)

        <!--foreach item="item" index="index" collection="list" open="(" separator=" or " close=")">
            columnid=#{item}
        </foreach-->
    </select>

    <select id="getSearchArticlesInPageForPublish" parameterType="java.util.Map" resultMap="BaseResultMap">
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (select
        <include refid="Main_Column_List" />,1 as isown
        from TBL_ARTICLE where 1=1
        <choose>
            <when test="articleid != 0">
                and ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="author != null and author !=''">
                and author like concat(concat('%',#{author}),'%')
            </when>
            <when test="source != null and source !=''">
                and source like concat(concat('%',#{source}),'%')
            </when>
        </choose>
        <if test="spubdate != null and spubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
        </if>
        <if test="epubdate != null and epubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
        </if>
        and (STATUS = 1 OR STATUS=5 OR STATUS=4 OR STATUS=6) and  AUDITFLAG = 0 AND EMPTYCONTENTFLAG=0 AND pubflag = 1 and
        <foreach collection="columnids" index="index" item="item" open="(" separator=" OR " close=")">
            COLUMNID=#{item}
        </foreach>
        <!--COLUMNID = #{columnid,jdbcType=DECIMAL}-->
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="editor!=null">
            and  EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        union all
        select t.ID,tr.COLUMNID,t.SITEID,t.MAINTITLE,t.VICETITLE,t.SOURCE,t.EMPTYCONTENTFLAG,t.PUBLISHTIME,t.CREATEDATE,t.LASTUPDATED,t.DIRNAME,t.FILENAME,t.EDITOR,t.STATUS,t.DOCLEVEL,
        t.VICEDOCLEVEL,t.PUBFLAG,t.AUDITFLAG,t.LOCKSTATUS,t.ISJOINRSS,t.REFERID,t.MULTIMEDIATYPE,t.MODELID,t.URLTYPE,t.DEFINEURL,0 as isown
        from tbl_article t,TBL_REFERS_ARTICLE tr
        where
        <choose>
            <when test="articleid != 0">
                t.ID = #{articleid,jdbcType=DECIMAL} and
            </when>
            <when test="maintitle != null and maintitle !=''">
                t.maintitle like concat(concat('%',#{maintitle}),'%') and
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                t.vicetitle like concat(concat('%',#{vicetitle}),'%') and
            </when>
            <when test="editor != null and editor !=''">
                t.editor like concat(concat('%',#{editor}),'%') and
            </when>
            <when test="source != null and source !=''">
                t.source like concat(concat('%',#{source}),'%') and
            </when>
        </choose>
        <if test="spubdate != null and spubdate !=''">
            to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate} and
        </if>
        <if test="epubdate != null and epubdate !=''">
            to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate} and
        </if>
        <foreach collection="columnids" index="index" item="item" open="(" separator=" OR " close=")">
            tr.COLUMNID=#{item}
        </foreach>
        and t.id=tr.articleid and tr.usearticletype=1 and t.pubflag = 1 and t.columnid=tr.columnid and tr.siteid=#{siteid,jdbcType=DECIMAL}
        <!--排序-->
        <choose>
            <when test="flag == 0">
                <if test="ascdesc==0">
                    order by id desc
                </if>
                <if test="ascdesc==1">
                    order by id asc
                </if>
            </when>
            <when test="flag == 1">
                <if test="ascdesc==0">
                    order by maintitle desc
                </if>
                <if test="ascdesc==1">
                    order by maintitle asc
                </if>
            </when>
            <when test="flag == 2">
                <if test="ascdesc==0">
                    order by doclevel desc
                </if>
                <if test="ascdesc==1">
                    order by doclevel asc
                </if>
            </when>
            <when test="flag == 3">
                <if test="ascdesc==0">
                    order by vicedoclevel desc
                </if>
                <if test="ascdesc==1">
                    order by vicedoclevel asc
                </if>
            </when>
            <when test="flag == 4">
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </when>
            <when test="flag == 5">
                <if test="ascdesc==0">
                    order by lastupdated desc
                </if>
                <if test="ascdesc==1">
                    order by lastupdated asc
                </if>
            </when>
            <otherwise>
                <if test="ascdesc==0">
                    order by publishtime desc
                </if>
                <if test="ascdesc==1">
                    order by publishtime asc
                </if>
            </otherwise>
        </choose>
        ) tt WHERE ROWNUM &lt;= #{endrow,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt;= #{beginrow,jdbcType=DECIMAL}
    </select>

    <select id="getSearchArticlesCountForPublish" parameterType="java.util.Map" resultType="java.lang.Integer">
        select sum(tmpcount) from (SELECT count(*) as tmpcount
        from TBL_ARTICLE where 1=1
        <choose>
            <when test="articleid != 0">
                and ID = #{articleid,jdbcType=DECIMAL}
            </when>
            <when test="maintitle != null and maintitle !=''">
                and maintitle like concat(concat('%',#{maintitle}),'%')
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                and vicetitle like concat(concat('%',#{vicetitle}),'%')
            </when>
            <when test="editor != null and editor !=''">
                and editor like concat(concat('%',#{editor}),'%')
            </when>
            <when test="source != null and source !=''">
                and source like concat(concat('%',#{source}),'%')
            </when>
        </choose>
        <if test="spubdate != null and spubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate}
        </if>
        <if test="epubdate != null and epubdate !=''">
            and to_char(publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate}
        </if>
        and (STATUS = 1 OR STATUS=5 OR STATUS=4 OR STATUS=6) and  AUDITFLAG = 0 AND EMPTYCONTENTFLAG=0 AND pubflag = 1 and
        <foreach collection="columnids" index="index" item="item" open="(" separator=" OR " close=")">
            COLUMNID=#{item}
        </foreach>
        <!--COLUMNID = #{columnid,jdbcType=DECIMAL}-->
        <if test="mssflag==1">
            and (siteid in (select siteid from tbl_siteinfo where samsiteid=#{siteid,jdbcType=DECIMAL}) or siteid=#{siteid,jdbcType=DECIMAL})
        </if>
        <if test="editor!=null">
            and  EDITOR = #{editor,jdbcType=VARCHAR}
        </if>
        union all select count(*) as tmpcount from tbl_article t,TBL_REFERS_ARTICLE tr where
        <choose>
            <when test="articleid != 0">
                t.ID = #{articleid,jdbcType=DECIMAL} and
            </when>
            <when test="maintitle != null and maintitle !=''">
                t.maintitle like concat(concat('%',#{maintitle}),'%') and
            </when>
            <when test="vicetitle != null and vicetitle !=''">
                t.vicetitle like concat(concat('%',#{vicetitle}),'%') and
            </when>
            <when test="editor != null and editor !=''">
                t.editor like concat(concat('%',#{editor}),'%') and
            </when>
            <when test="source != null and source !=''">
                t.source like concat(concat('%',#{source}),'%') and
            </when>
        </choose>
        <if test="spubdate != null and spubdate !=''">
            to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&gt;= #{spubdate} and
        </if>
        <if test="epubdate != null and epubdate !=''">
            to_char(t.publishtime,'YYYY-MM-dd hh:mm:ss')&lt;= #{epubdate} and
        </if>
        <foreach collection="columnids" index="index" item="item" open="(" separator=" OR " close=")">
            tr.COLUMNID=#{item}
        </foreach>
        and t.id=tr.articleid and tr.usearticletype=1 and t.pubflag = 1 and t.columnid=tr.columnid and tr.siteid=#{siteid,jdbcType=DECIMAL})
    </select>

    <select id="getArticlesInPageBySiteidAndColumnid" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (SELECT t.id,t.siteid,t.columnid,t.maintitle,t.summary,t.pic,t.createdate FROM tbl_article t
        where SITEID = #{SITEID,jdbcType=DECIMAL} and COLUMNID = #{COLUMNID,jdbcType=DECIMAL}
        ORDER BY createdate DESC) tt WHERE ROWNUM &lt;= #{ENDROW,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt;= #{BEGINROW,jdbcType=DECIMAL}
    </select>


    <select id="countArticleBySiteidAndColumnid" parameterType="java.util.Map" resultType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select count(id)  from TBL_ARTICLE
        where SITEID = #{SITEID,jdbcType=DECIMAL} and COLUMNID = #{COLUMNID,jdbcType=DECIMAL}
    </select>

    <select id="getColumnParents" parameterType="int" resultType="java.lang.String">
        select wm_concat(id) from tbl_column t CONNECT BY PRIOR t.parentid = id START WITH ID =#{id}
    </select>

    <select id="getColumnDirname" parameterType="int" resultType="java.lang.String">
        select dirname from tbl_column where id=#{columnid}
    </select>

    <select id="getNeedIndex"  parameterType="int" resultType="Article">
        <![CDATA[
            select t.id,t.siteid,t.sortid,t.brand,t.pic,t.bigpic,t.columnid ,
                    t.articlepic,t.createdate,t.publishtime,tc.dirname,t.filename,t.maintitle,t.summary,t.keyword ,t.content
            from tbl_article t  ,tbl_column tc
            where   t.columnid=tc.id  and  (t.status =1 or t.status=2 or t.status =5)  and t.pubflag =0   and t.columnid != 999999
             and  t.siteid = #{siteid}  and t.indexflag=0  and rownum < 200
        ]]>
    </select>

    <update id="updateIdxFlagByids" parameterType="String" >
        update tbl_article  t set  indexflag=1
        where  id in  (${ids})
    </update>

    <select id="getDeleteIndex"   resultType="Article">
        select ta.id, ta.maintitle, ta.summary,ta.createdate,ta.dirName,ta.columnid,ta.siteid ,ta.articlepic ,tb.sitename , ta.bigpic
        from tbl_article ta , tbl_siteinfo tb
        where   ta.siteid=tb.siteid    and  ta.id =#{id}    and (ta.status =1 or  ta.status =5)    and ta.pubflag =0
        and ta.indexflag=0
    </select>

    <delete id="deleteByPrimaryKey" parameterType="java.math.BigDecimal">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from TBL_ARTICLE
        where ID = #{ID,jdbcType=DECIMAL}
    </delete>

    <delete id="deleteByArticleIDS" parameterType="java.util.Map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from TBL_ARTICLE
        where siteid = #{siteid,jdbcType=DECIMAL} and id in (${artids})
    </delete>

    <select id="getMainKey" resultType="java.math.BigDecimal">
        select tbl_article_id.NEXTVAL from dual
    </select>

    <insert id="insert" parameterType="com.bizwink.po.Article">
        insert into TBL_ARTICLE (ID, COLUMNID, SITEID,
        SORTID, MAINTITLE, VICETITLE,
        SUMMARY, KEYWORD, SOURCE,
        EMPTYCONTENTFLAG, AUTHOR, ARTICLEVERSION,
        PUBLISHTIME, CREATEDATE, LASTUPDATED,
        DIRNAME, FILENAME, EDITOR,CREATOR,
        STATUS, DOCLEVEL, VICEDOCLEVEL,
        PUBFLAG, AUDITFLAG, SUBSCRIBER,
        LOCKSTATUS, LOCKEDITOR, AUDITOR,
        ISPUBLISHED, RELATEDARTID, INDEXFLAG,
        ISJOINRSS, CLICKNUM, REFERID,
        MULTIMEDIATYPE, MODELID, ARTICLEPIC,
        CHANGEPIC, SALEPRICE, INPRICE,
        MARKETPRICE, VIPPRICE, STOCKNUM,
        WEIGHT, BRAND, PIC,
        BIGPIC, SCORE, VOUCHER,
        URLTYPE, DEFINEURL, NOTEARTICLEID,
        WORDSNUM, DOWNFILENAME, BEIDATE,
        SALESNUM, FROMSITEID,SARTICLEID,
        T1, T2,T3, T4, T5, MEDIAFILE,
        DEPTID, PROCESSOFAUDIT,
        CONTENT)
        values (#{ID,jdbcType=DECIMAL}, #{COLUMNID,jdbcType=DECIMAL}, #{SITEID,jdbcType=DECIMAL},
        #{SORTID,jdbcType=DECIMAL}, #{MAINTITLE,jdbcType=VARCHAR}, #{VICETITLE,jdbcType=VARCHAR},
        #{SUMMARY,jdbcType=VARCHAR}, #{KEYWORD,jdbcType=VARCHAR}, #{SOURCE,jdbcType=VARCHAR},
        #{EMPTYCONTENTFLAG,jdbcType=DECIMAL}, #{AUTHOR,jdbcType=VARCHAR}, #{ARTICLEVERSION,jdbcType=DECIMAL},
        #{PUBLISHTIME,jdbcType=TIMESTAMP}, #{CREATEDATE,jdbcType=TIMESTAMP}, #{LASTUPDATED,jdbcType=TIMESTAMP},
        #{DIRNAME,jdbcType=VARCHAR}, #{FILENAME,jdbcType=VARCHAR}, #{EDITOR,jdbcType=VARCHAR},#{CREATOR,jdbcType=VARCHAR},
        #{STATUS,jdbcType=DECIMAL}, #{DOCLEVEL,jdbcType=DECIMAL}, #{VICEDOCLEVEL,jdbcType=DECIMAL},
        #{PUBFLAG,jdbcType=DECIMAL}, #{AUDITFLAG,jdbcType=DECIMAL}, #{SUBSCRIBER,jdbcType=DECIMAL},
        #{LOCKSTATUS,jdbcType=DECIMAL}, #{LOCKEDITOR,jdbcType=VARCHAR}, #{AUDITOR,jdbcType=VARCHAR},
        #{ISPUBLISHED,jdbcType=DECIMAL}, #{RELATEDARTID,jdbcType=VARCHAR}, #{INDEXFLAG,jdbcType=DECIMAL},
        #{ISJOINRSS,jdbcType=DECIMAL}, #{CLICKNUM,jdbcType=DECIMAL}, #{REFERID,jdbcType=DECIMAL},
        #{MULTIMEDIATYPE,jdbcType=DECIMAL}, #{MODELID,jdbcType=DECIMAL}, #{ARTICLEPIC,jdbcType=VARCHAR},
        #{CHANGEPIC,jdbcType=DECIMAL}, #{SALEPRICE,jdbcType=DECIMAL}, #{INPRICE,jdbcType=DECIMAL},
        #{MARKETPRICE,jdbcType=DECIMAL}, #{VIPPRICE,jdbcType=DECIMAL}, #{STOCKNUM,jdbcType=DECIMAL},
        #{WEIGHT,jdbcType=DECIMAL}, #{BRAND,jdbcType=VARCHAR}, #{PIC,jdbcType=VARCHAR},
        #{BIGPIC,jdbcType=VARCHAR}, #{SCORE,jdbcType=DECIMAL}, #{VOUCHER,jdbcType=DECIMAL},
        #{URLTYPE,jdbcType=DECIMAL}, #{DEFINEURL,jdbcType=VARCHAR}, #{NOTEARTICLEID,jdbcType=DECIMAL},
        #{WORDSNUM,jdbcType=DECIMAL}, #{DOWNFILENAME,jdbcType=VARCHAR}, #{BEIDATE,jdbcType=TIMESTAMP},
        #{SALESNUM,jdbcType=DECIMAL}, #{FROMSITEID,jdbcType=DECIMAL},#{SARTICLEID,jdbcType=VARCHAR},
        #{t1,jdbcType=DECIMAL}, #{t2,jdbcType=DECIMAL},#{t3,jdbcType=DECIMAL}, #{t4,jdbcType=DECIMAL}, #{t5,jdbcType=DECIMAL},
        #{MEDIAFILE,jdbcType=VARCHAR},#{DEPTID,jdbcType=VARCHAR}, #{PROCESSOFAUDIT,jdbcType=DECIMAL},
        #{CONTENT,jdbcType=LONGVARCHAR})
    </insert>

    <insert id="insertNoContent" parameterType="com.bizwink.po.Article">
        insert into TBL_ARTICLE (ID, COLUMNID, SITEID,
        SORTID, MAINTITLE, VICETITLE,
        SUMMARY, KEYWORD, SOURCE,
        EMPTYCONTENTFLAG, AUTHOR, ARTICLEVERSION,
        PUBLISHTIME, CREATEDATE, LASTUPDATED,
        DIRNAME, FILENAME, EDITOR,CREATOR,
        STATUS, DOCLEVEL, VICEDOCLEVEL,
        PUBFLAG, AUDITFLAG, SUBSCRIBER,
        LOCKSTATUS, LOCKEDITOR, AUDITOR,
        ISPUBLISHED, RELATEDARTID, INDEXFLAG,
        ISJOINRSS, CLICKNUM, REFERID,
        MULTIMEDIATYPE, MODELID, ARTICLEPIC,
        CHANGEPIC, SALEPRICE, INPRICE,
        MARKETPRICE, VIPPRICE, STOCKNUM,
        WEIGHT, BRAND, PIC,
        BIGPIC, SCORE, VOUCHER,
        URLTYPE, DEFINEURL, NOTEARTICLEID,
        WORDSNUM, DOWNFILENAME, BEIDATE,
        SALESNUM, FROMSITEID,SARTICLEID,
        T1, T2,T3, T4, T5, MEDIAFILE,
        DEPTID, PROCESSOFAUDIT)
        values (#{ID,jdbcType=DECIMAL}, #{COLUMNID,jdbcType=DECIMAL}, #{SITEID,jdbcType=DECIMAL},
        #{SORTID,jdbcType=DECIMAL}, #{MAINTITLE,jdbcType=VARCHAR}, #{VICETITLE,jdbcType=VARCHAR},
        #{SUMMARY,jdbcType=VARCHAR}, #{KEYWORD,jdbcType=VARCHAR}, #{SOURCE,jdbcType=VARCHAR},
        #{EMPTYCONTENTFLAG,jdbcType=DECIMAL}, #{AUTHOR,jdbcType=VARCHAR}, #{ARTICLEVERSION,jdbcType=DECIMAL},
        #{PUBLISHTIME,jdbcType=TIMESTAMP}, #{CREATEDATE,jdbcType=TIMESTAMP}, #{LASTUPDATED,jdbcType=TIMESTAMP},
        #{DIRNAME,jdbcType=VARCHAR}, #{FILENAME,jdbcType=VARCHAR}, #{EDITOR,jdbcType=VARCHAR},#{CREATOR,jdbcType=VARCHAR},
        #{STATUS,jdbcType=DECIMAL}, #{DOCLEVEL,jdbcType=DECIMAL}, #{VICEDOCLEVEL,jdbcType=DECIMAL},
        #{PUBFLAG,jdbcType=DECIMAL}, #{AUDITFLAG,jdbcType=DECIMAL}, #{SUBSCRIBER,jdbcType=DECIMAL},
        #{LOCKSTATUS,jdbcType=DECIMAL}, #{LOCKEDITOR,jdbcType=VARCHAR}, #{AUDITOR,jdbcType=VARCHAR},
        #{ISPUBLISHED,jdbcType=DECIMAL}, #{RELATEDARTID,jdbcType=VARCHAR}, #{INDEXFLAG,jdbcType=DECIMAL},
        #{ISJOINRSS,jdbcType=DECIMAL}, #{CLICKNUM,jdbcType=DECIMAL}, #{REFERID,jdbcType=DECIMAL},
        #{MULTIMEDIATYPE,jdbcType=DECIMAL}, #{MODELID,jdbcType=DECIMAL}, #{ARTICLEPIC,jdbcType=VARCHAR},
        #{CHANGEPIC,jdbcType=DECIMAL}, #{SALEPRICE,jdbcType=DECIMAL}, #{INPRICE,jdbcType=DECIMAL},
        #{MARKETPRICE,jdbcType=DECIMAL}, #{VIPPRICE,jdbcType=DECIMAL}, #{STOCKNUM,jdbcType=DECIMAL},
        #{WEIGHT,jdbcType=DECIMAL}, #{BRAND,jdbcType=VARCHAR}, #{PIC,jdbcType=VARCHAR},
        #{BIGPIC,jdbcType=VARCHAR}, #{SCORE,jdbcType=DECIMAL}, #{VOUCHER,jdbcType=DECIMAL},
        #{URLTYPE,jdbcType=DECIMAL}, #{DEFINEURL,jdbcType=VARCHAR}, #{NOTEARTICLEID,jdbcType=DECIMAL},
        #{WORDSNUM,jdbcType=DECIMAL}, #{DOWNFILENAME,jdbcType=VARCHAR}, #{BEIDATE,jdbcType=TIMESTAMP},
        #{SALESNUM,jdbcType=DECIMAL}, #{FROMSITEID,jdbcType=DECIMAL},#{SARTICLEID,jdbcType=VARCHAR},
        #{t1,jdbcType=DECIMAL}, #{t2,jdbcType=DECIMAL},#{t3,jdbcType=DECIMAL}, #{t4,jdbcType=DECIMAL}, #{t5,jdbcType=DECIMAL},
        #{MEDIAFILE,jdbcType=VARCHAR},#{DEPTID,jdbcType=VARCHAR}, #{PROCESSOFAUDIT,jdbcType=DECIMAL})
    </insert>

    <update id="updateByPrimaryKey" parameterType="com.bizwink.po.Article">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update TBL_ARTICLE
        set COLUMNID = #{COLUMNID,jdbcType=DECIMAL},
        SITEID = #{SITEID,jdbcType=DECIMAL},
        SORTID = #{SORTID,jdbcType=DECIMAL},
        MAINTITLE = #{MAINTITLE,jdbcType=VARCHAR},
        VICETITLE = #{VICETITLE,jdbcType=VARCHAR},
        SUMMARY = #{SUMMARY,jdbcType=VARCHAR},
        KEYWORD = #{KEYWORD,jdbcType=VARCHAR},
        SOURCE = #{SOURCE,jdbcType=VARCHAR},
        EMPTYCONTENTFLAG = #{EMPTYCONTENTFLAG,jdbcType=DECIMAL},
        AUTHOR = #{AUTHOR,jdbcType=VARCHAR},
        ARTICLEVERSION = #{ARTICLEVERSION,jdbcType=DECIMAL},
        PUBLISHTIME = #{PUBLISHTIME,jdbcType=DATE},
        CREATEDATE = #{CREATEDATE,jdbcType=DATE},
        LASTUPDATED = #{LASTUPDATED,jdbcType=DATE},
        DIRNAME = #{DIRNAME,jdbcType=VARCHAR},
        FILENAME = #{FILENAME,jdbcType=VARCHAR},
        EDITOR = #{EDITOR,jdbcType=VARCHAR},
        CREATOR = #{CREATOR,jdbcType=VARCHAR},
        STATUS = #{STATUS,jdbcType=DECIMAL},
        DOCLEVEL = #{DOCLEVEL,jdbcType=DECIMAL},
        VICEDOCLEVEL = #{VICEDOCLEVEL,jdbcType=DECIMAL},
        PUBFLAG = #{PUBFLAG,jdbcType=DECIMAL},
        AUDITFLAG = #{AUDITFLAG,jdbcType=DECIMAL},
        SUBSCRIBER = #{SUBSCRIBER,jdbcType=DECIMAL},
        LOCKSTATUS = #{LOCKSTATUS,jdbcType=DECIMAL},
        LOCKEDITOR = #{LOCKEDITOR,jdbcType=VARCHAR},
        AUDITOR = #{AUDITOR,jdbcType=VARCHAR},
        ISPUBLISHED = #{ISPUBLISHED,jdbcType=DECIMAL},
        RELATEDARTID = #{RELATEDARTID,jdbcType=VARCHAR},
        INDEXFLAG = #{INDEXFLAG,jdbcType=DECIMAL},
        ISJOINRSS = #{ISJOINRSS,jdbcType=DECIMAL},
        CLICKNUM = #{CLICKNUM,jdbcType=DECIMAL},
        REFERID = #{REFERID,jdbcType=DECIMAL},
        MULTIMEDIATYPE = #{MULTIMEDIATYPE,jdbcType=DECIMAL},
        MODELID = #{MODELID,jdbcType=DECIMAL},
        ARTICLEPIC = #{ARTICLEPIC,jdbcType=VARCHAR},
        CHANGEPIC = #{CHANGEPIC,jdbcType=DECIMAL},
        SALEPRICE = #{SALEPRICE,jdbcType=DECIMAL},
        INPRICE = #{INPRICE,jdbcType=DECIMAL},
        MARKETPRICE = #{MARKETPRICE,jdbcType=DECIMAL},
        VIPPRICE = #{VIPPRICE,jdbcType=DECIMAL},
        STOCKNUM = #{STOCKNUM,jdbcType=DECIMAL},
        WEIGHT = #{WEIGHT,jdbcType=DECIMAL},
        BRAND = #{BRAND,jdbcType=VARCHAR},
        PIC = #{PIC,jdbcType=VARCHAR},
        BIGPIC = #{BIGPIC,jdbcType=VARCHAR},
        SCORE = #{SCORE,jdbcType=DECIMAL},
        VOUCHER = #{VOUCHER,jdbcType=DECIMAL},
        URLTYPE = #{URLTYPE,jdbcType=DECIMAL},
        DEFINEURL = #{DEFINEURL,jdbcType=VARCHAR},
        NOTEARTICLEID = #{NOTEARTICLEID,jdbcType=DECIMAL},
        WORDSNUM = #{WORDSNUM,jdbcType=DECIMAL},
        DOWNFILENAME = #{DOWNFILENAME,jdbcType=VARCHAR},
        BEIDATE = #{BEIDATE,jdbcType=DATE},
        SALESNUM = #{SALESNUM,jdbcType=DECIMAL},
        FROMSITEID = #{FROMSITEID,jdbcType=DECIMAL},
        SARTICLEID = #{SARTICLEID,jdbcType=VARCHAR},
        T1 = #{t1,jdbcType=DECIMAL},
        T2 = #{t2,jdbcType=DECIMAL},
        T3 = #{t3,jdbcType=DECIMAL},
        T4 = #{t4,jdbcType=DECIMAL},
        T5 = #{t5,jdbcType=DECIMAL},
        MEDIAFILE = #{MEDIAFILE,jdbcType=VARCHAR},
        DEPTID = #{DEPTID,jdbcType=VARCHAR},
        PROCESSOFAUDIT = #{PROCESSOFAUDIT,jdbcType=DECIMAL}
        where ID = #{ID,jdbcType=DECIMAL}
    </update>

    <update id="updateNoContent" parameterType="com.bizwink.po.Article">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update TBL_ARTICLE
        set COLUMNID = #{COLUMNID,jdbcType=DECIMAL},
        SITEID = #{SITEID,jdbcType=DECIMAL},
        SORTID = #{SORTID,jdbcType=DECIMAL},
        MAINTITLE = #{MAINTITLE,jdbcType=VARCHAR},
        VICETITLE = #{VICETITLE,jdbcType=VARCHAR},
        SUMMARY = #{SUMMARY,jdbcType=VARCHAR},
        KEYWORD = #{KEYWORD,jdbcType=VARCHAR},
        SOURCE = #{SOURCE,jdbcType=VARCHAR},
        EMPTYCONTENTFLAG = #{EMPTYCONTENTFLAG,jdbcType=DECIMAL},
        AUTHOR = #{AUTHOR,jdbcType=VARCHAR},
        ARTICLEVERSION = #{ARTICLEVERSION,jdbcType=DECIMAL},
        PUBLISHTIME = #{PUBLISHTIME,jdbcType=DATE},
        CREATEDATE = #{CREATEDATE,jdbcType=DATE},
        LASTUPDATED = #{LASTUPDATED,jdbcType=DATE},
        DIRNAME = #{DIRNAME,jdbcType=VARCHAR},
        FILENAME = #{FILENAME,jdbcType=VARCHAR},
        EDITOR = #{EDITOR,jdbcType=VARCHAR},
        CREATOR = #{CREATOR,jdbcType=VARCHAR},
        STATUS = #{STATUS,jdbcType=DECIMAL},
        DOCLEVEL = #{DOCLEVEL,jdbcType=DECIMAL},
        VICEDOCLEVEL = #{VICEDOCLEVEL,jdbcType=DECIMAL},
        PUBFLAG = #{PUBFLAG,jdbcType=DECIMAL},
        AUDITFLAG = #{AUDITFLAG,jdbcType=DECIMAL},
        SUBSCRIBER = #{SUBSCRIBER,jdbcType=DECIMAL},
        LOCKSTATUS = #{LOCKSTATUS,jdbcType=DECIMAL},
        LOCKEDITOR = #{LOCKEDITOR,jdbcType=VARCHAR},
        AUDITOR = #{AUDITOR,jdbcType=VARCHAR},
        ISPUBLISHED = #{ISPUBLISHED,jdbcType=DECIMAL},
        RELATEDARTID = #{RELATEDARTID,jdbcType=VARCHAR},
        INDEXFLAG = #{INDEXFLAG,jdbcType=DECIMAL},
        ISJOINRSS = #{ISJOINRSS,jdbcType=DECIMAL},
        CLICKNUM = #{CLICKNUM,jdbcType=DECIMAL},
        REFERID = #{REFERID,jdbcType=DECIMAL},
        MULTIMEDIATYPE = #{MULTIMEDIATYPE,jdbcType=DECIMAL},
        MODELID = #{MODELID,jdbcType=DECIMAL},
        ARTICLEPIC = #{ARTICLEPIC,jdbcType=VARCHAR},
        CHANGEPIC = #{CHANGEPIC,jdbcType=DECIMAL},
        SALEPRICE = #{SALEPRICE,jdbcType=DECIMAL},
        INPRICE = #{INPRICE,jdbcType=DECIMAL},
        MARKETPRICE = #{MARKETPRICE,jdbcType=DECIMAL},
        VIPPRICE = #{VIPPRICE,jdbcType=DECIMAL},
        STOCKNUM = #{STOCKNUM,jdbcType=DECIMAL},
        WEIGHT = #{WEIGHT,jdbcType=DECIMAL},
        BRAND = #{BRAND,jdbcType=VARCHAR},
        PIC = #{PIC,jdbcType=VARCHAR},
        BIGPIC = #{BIGPIC,jdbcType=VARCHAR},
        SCORE = #{SCORE,jdbcType=DECIMAL},
        VOUCHER = #{VOUCHER,jdbcType=DECIMAL},
        URLTYPE = #{URLTYPE,jdbcType=DECIMAL},
        DEFINEURL = #{DEFINEURL,jdbcType=VARCHAR},
        NOTEARTICLEID = #{NOTEARTICLEID,jdbcType=DECIMAL},
        WORDSNUM = #{WORDSNUM,jdbcType=DECIMAL},
        DOWNFILENAME = #{DOWNFILENAME,jdbcType=VARCHAR},
        BEIDATE = #{BEIDATE,jdbcType=DATE},
        SALESNUM = #{SALESNUM,jdbcType=DECIMAL},
        FROMSITEID = #{FROMSITEID,jdbcType=DECIMAL},
        SARTICLEID = #{SARTICLEID,jdbcType=VARCHAR},
        T1 = #{t1,jdbcType=DECIMAL},
        T2 = #{t2,jdbcType=DECIMAL},
        T3 = #{t3,jdbcType=DECIMAL},
        T4 = #{t4,jdbcType=DECIMAL},
        T5 = #{t5,jdbcType=DECIMAL},
        MEDIAFILE = #{MEDIAFILE,jdbcType=VARCHAR},
        DEPTID = #{DEPTID,jdbcType=VARCHAR},
        PROCESSOFAUDIT = #{PROCESSOFAUDIT,jdbcType=DECIMAL}
        where ID = #{ID,jdbcType=DECIMAL}
    </update>

    <update id="UpdateArticleStatus" parameterType="java.util.Map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update TBL_ARTICLE
        set  STATUS = #{STATUS,jdbcType=DECIMAL}
        where ID = #{ID,jdbcType=DECIMAL}
    </update>

    <update id="updateArticleColumn" parameterType="java.util.Map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update TBL_ARTICLE
        set  COLUMNID = #{COLUMNID,jdbcType=DECIMAL}
        where ID = #{ID,jdbcType=DECIMAL}
    </update>

    <select id="getArticleList" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List" />
        from TBL_ARTICLE
        where siteid=5891
        <if test="columnId!=null">
            and COLUMNID = #{columnId,jdbcType=DECIMAL}
        </if>
        <if test="searchword!=null">
            and maintitle like CONCAT(CONCAT('%',#{searchword,jdbcType=VARCHAR}), '%')
        </if>
        order by createdate desc
    </select>

    <select id="getArticleListbyCreator" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List" />
        from TBL_ARTICLE
        where creator = #{creator,jdbcType=VARCHAR} and siteid=5891
    </select>


    <select id="getArticleListbyDeptid" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (SELECT t.id,t.siteid,t.columnid,t.status,t.maintitle,t.pubflag,t.dirname,t.summary,t.pic,t.createdate FROM tbl_article t
        where deptid = #{deptid,jdbcType=VARCHAR} and siteid=#{siteid,jdbcType=DECIMAL} ORDER BY createdate DESC) tt WHERE ROWNUM &lt;= #{ENDROW,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt; #{BEGINROW,jdbcType=DECIMAL}

        <!--select
        <include refid="Base_Column_List" />
        from TBL_ARTICLE
        where deptid = #{deptid,jdbcType=VARCHAR} and siteid=#{siteid,jdbcType=DECIMAL} order by createdate desc-->
    </select>

    <select id="countArticlebyDeptid" parameterType="java.util.Map" resultType="java.math.BigDecimal">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select count(id)
        from TBL_ARTICLE
        where deptid = #{deptid,jdbcType=VARCHAR} and siteid=#{siteid,jdbcType=DECIMAL}
    </select>

    <select id="searchArticleListbyDeptidAndKeyword" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (SELECT t.id,t.siteid,t.columnid,t.status,t.maintitle,t.pubflag,t.dirname,t.summary,t.pic,t.createdate FROM tbl_article t
        where deptid = #{deptid,jdbcType=VARCHAR} and siteid=#{siteid,jdbcType=DECIMAL} and maintitle like CONCAT(CONCAT('%',#{searchword,jdbcType=VARCHAR}), '%') and status=#{status,jdbcType=DECIMAL}
        and pubflag=#{pubflag,jdbcType=DECIMAL} ORDER BY createdate DESC) tt WHERE ROWNUM &lt;= #{ENDROW,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt; #{BEGINROW,jdbcType=DECIMAL}
    </select>

    <select id="countArticlebyDeptidAndKeyword" parameterType="java.util.Map" resultType="java.math.BigDecimal">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select count(id)
        from TBL_ARTICLE
        where  deptid = #{deptid,jdbcType=VARCHAR} and siteid=#{siteid,jdbcType=DECIMAL} and maintitle like CONCAT(CONCAT('%',#{searchword,jdbcType=VARCHAR}), '%') and status=#{status,jdbcType=DECIMAL} and pubflag=#{pubflag,jdbcType=DECIMAL}
    </select>


    <select id="getRejectArticlesbyDeptid" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (SELECT t.id,t.siteid,t.columnid,t.status,t.maintitle,t.pubflag,t.dirname,t.summary,t.pic,t.createdate FROM tbl_article t
        where deptid = #{deptid,jdbcType=VARCHAR} and siteid=#{siteid,jdbcType=DECIMAL} and status=#{status,jdbcType=DECIMAL} and pubflag=#{pubflag,jdbcType=DECIMAL}  and auditflag=#{auditflag,jdbcType=DECIMAL}
        ORDER BY createdate DESC) tt WHERE ROWNUM &lt;= #{ENDROW,jdbcType=DECIMAL}) table_alias WHERE table_alias.rowno &gt; #{BEGINROW,jdbcType=DECIMAL}
    </select>

    <select id="countRejectArticlebyDeptid" parameterType="java.util.Map" resultType="java.math.BigDecimal">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select count(id)
        from TBL_ARTICLE
        where  deptid = #{deptid,jdbcType=VARCHAR} and siteid=#{siteid,jdbcType=DECIMAL} and status=#{status,jdbcType=DECIMAL} and pubflag=#{pubflag,jdbcType=DECIMAL} and auditflag=#{auditflag,jdbcType=DECIMAL}
    </select>

    <select id="searchRejectArticlesbyDeptidAndKeyword" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        SELECT * FROM (SELECT tt.*, ROWNUM AS rowno FROM (SELECT t.id,t.siteid,t.columnid,t.status,t.maintitle,t.pubflag,t.dirname,t.summary,t.pic,t.createdate FROM tbl_article t
        where deptid = #{deptid,jdbcType=VARCHAR} and siteid=#{siteid,jdbcType=DECIMAL} and maintitle like CONCAT(CONCAT('%',#{searchword,jdbcType=VARCHAR}), '%') and status=#{status,jdbcType=DECIMAL}
        and auditflag=#{auditflag,jdbcType=DECIMAL} and pubflag=#{pubflag,jdbcType=DECIMAL} ORDER BY createdate DESC) tt WHERE ROWNUM &lt;= #{ENDROW,jdbcType=DECIMAL}) table_alias
        WHERE table_alias.rowno &gt; #{BEGINROW,jdbcType=DECIMAL}
    </select>

    <select id="countSearchRejectArticlebyDeptidAndKeyword" parameterType="java.util.Map" resultType="java.math.BigDecimal">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select count(id)
        from TBL_ARTICLE
        where  deptid = #{deptid,jdbcType=VARCHAR} and siteid=#{siteid,jdbcType=DECIMAL} and maintitle like CONCAT(CONCAT('%',#{searchword,jdbcType=VARCHAR}), '%') and
        status=#{status,jdbcType=DECIMAL} and pubflag=#{pubflag,jdbcType=DECIMAL}  and auditflag=#{auditflag,jdbcType=DECIMAL}
    </select>

    <select id="getOrderByBuyname" parameterType="java.util.Map" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List" />
        from TBL_ARTICLE a
        where a.id in(select t.productid from TBL_ORDERS_DETAIL t where 1=1
        <if test="buyername!=null">
            and t.buyername =#{buyername,jdbcType=VARCHAR}
        </if>
        <if test="suppliername!=null">
            and t.suppliername =#{suppliername,jdbcType=VARCHAR}
        </if>
        )
    </select>
</mapper>